<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8" />

    <!--
    BeaqleJS - HTML5 and JavaScript framework for listening tests, <https://github.com/HSU-ANT/beaqlejs>

    This file and all corresponding parts of BeaqleJS are published under the GPLv3 license, <http://www.gnu.org/licenses/>    
    -->


    <title>BeaqleJS</title>
    
    <!-- load the test config file -->
    <script src="config/config_guitartimbre.js" type="text/javascript"></script>
    <script src="config/config_guitartimbre_noncompare.js" type="text/javascript"></script>
    <script src="config/config_training.js" type="text/javascript"></script>
    <!---->
    
    <link type="text/css" href="css/smoothness/jquery-ui-1.8.18.custom.css" rel="Stylesheet" />
    <link type="text/css" href="css/styles.css" rel="Stylesheet" />

    <script src="js/jquery.js" type="text/javascript"></script>
    <script src="js/jquery-ui.custom.min.js" type="text/javascript" ></script>
    <script src="js/beaqle.js" type="text/javascript"></script>
    <script src="js/testOrder.js" type="text/javascript"></script>


    <script type="text/javascript">
    /* <![CDATA[ */
        var testHandle;
        var testHandle2;
        var testHandleTraining;
        window.onload=function() {

        var loadedTestState = loadTestState();
        if (loadedTestState != null) {
            var tempTestState = structuredClone(loadedTestState)
            if (tempTestState.TestStage == 0) {
                testHandleTraining = new TimbreTraining(TestConfigTraining);
                testHandleTraining.setStage(0)
                testHandleTraining.TestState = tempTestState;
                $('#Footer').prepend(testHandleTraining.browserFeatureString() + '<br/>');
            } else if (tempTestState.TestStage == 1) {
                testHandle = new TimbrePreferenceTest(TestConfigStage1);
                testHandle.setStage(1)
                testHandle.TestState = tempTestState;
                testHandle.startTests();
                $('#Footer').prepend(testHandle.browserFeatureString() + '<br/>');
            } else {
                testHandle2 = new TimbreTest(TestConfigStage2);
                testHandle2.setStage(2)
                testHandle2.TestState = tempTestState;
                testHandle2.startTests();
                $('#Footer').prepend(testHandle2.browserFeatureString() + '<br/>');
            }
        } else {
            //testHandle = new TimbrePreferenceTest(TestConfigStage1);
            //testHandle.setStage(1)
            //$('#Footer').prepend(testHandle.browserFeatureString() + '<br/>');

            testHandleTraining = new TimbreTraining(TestConfigTraining);
            testHandleTraining.setStage(0)
            $('#Footer').prepend(testHandleTraining.browserFeatureString() + '<br/>');
            
        }

            
        };
    /* ]]> */
    </script>
   
</head>

<body>

<div id="Wrapper">

    <div id="TestTitle" class="commonBox">
        <!-- overall title at the top 
             DO NOT EDIT! This box is automatically filled with content!
        -->
        Loading...
    </div>
    
    <!-- is displayed during load -->
    <div id="LoadOverlay" class="commonBox">
        <img src="img/ajax-loader.gif"/> &nbsp;&nbsp;&nbsp; Loading...
    </div>

    <!-- introduction before the test starts -->
    <div id="TestIntroduction" class="commonBox">
        
        <!-- edit here if you want to change the welcome message  and instructions -->

        <div id="TrainingInstructions" style="text-align:left">
            Thanks for your interest in participating in the listening test. The overall test will take roughly 1.5 hours. This will be a training stage to get you used to the test interface and the types of things you will be doing throughout the test.
            <br />
            <br />
            Instructions:
            <ul>
                <li>Audio samples from an acoustic guitar will be presented</li>
                <li>Listen through all of the audio files before responding to the questions in the form.</li>
                <li>Fill out the questions in the form to the best of your ability</li>
                <li>Please ensure that the form is completely filled out before moving on to the next test.</li>
                <li>If you would like a break, let the researcher know. You are welcome to take a break at any point during the test, though avoid taking a break in the middle of rating a pair if possible.</li>
                <li>Adjust the volume to a comfortable level throughout the test. Please keep in mind that you will be asked not to change the volume once the training stage is over.</li>
            </ul>
        </div>
        <div id="Stage1Instructions" style="text-align:left">
            This stage will focus on the timbre of individual guitars.
            <br />
            <br />
            Instructions:
            <ul>
                <li>Audio samples from an acoustic guitar will be presented, played in three different styles</li>
                <li>Listen through all of the audio files before responding to the questions in the form.</li>
                <li>Fill out the questions in the form to the best of your ability</li>
                <li>Please ensure that the form is completely filled out before moving on to the next test.</li>
                <li>If you would like a break, let the researcher know. You are welcome to take a break at any point during the test, though avoid taking a break in the middle of rating a pair if possible.</li>
                <li>DO NOT adjust the volume unless you absolutely need to.</li>
            </ul>
        </div>
        <div id="Stage2Instructions" style="text-align:left">
            This stage will focus on comparing the timbre of two different guitars.
            <br />
            <br />
            Instructions:
            <ul>
                <li>Audio samples from two different acoustic guitars will be presented, played in three different styles</li>
                <li>Listen through all of the audio files before responding to the questions in the form.</li>
                <li>Fill out the questions in the form to the best of your ability, comparing the two different guitar timbres.</li>
                <li>Please ensure that the form is completely filled out before moving on to the next test.</li>
                <li>If you would like a break, let the researcher know. You are welcome to take a break at any point during the test, though avoid taking a break in the middle of rating a pair if possible.</li>
                <li>DO NOT adjust the volume unless you absolutely need to.</li>
            </ul>
        </div>
        <br />
        <br />
                        
        <!-- this button starts the first test -->
        <button id="BtnStartTest" onclick="testHandleTraining.startTests();">Start!</button>	
    </div>

    <!-- final text after all tests have passed -->
    <div id="TestEnd" class="commonBox">

        <!-- edit here if you want to change the thank you message -->
        Thank you very much!
        <br />
        <br />
        
        <!-- show some informations before submitting the results -->
        <div id="SubmitBox">
            <div id="SubmitError" class="error">
                We are sorry, but the following error occured during your submission:
                <p id="ErrorCode"></p>
            </div>
            <p class="submitOnline">
                <!-- edit here if you want to change the information about online submission, e.g. add privacy policy information -->
                Please enter your ID number given to you by the researcher. This will ensure that your data is accounted for while remaining pseudonymised. If you would like to leave feedback on the study, please use the box below.
            </p>
            <p class="submitDownload">
                <!-- edit here if you want to change the information about online submission, e.g. add privacy policy information -->
                Please enter your ID number given to you by the researcher. This will ensure that your data is accounted for while remaining pseudonymised. If you would like to leave feedback on the study, please use the box below.
            </p>
            <table border=0 style="margin-left: auto;margin-right: auto;">
            <tr><td>ID number:</td><td><input id="UserID" type="text" size="40" maxlength="40" /></td></tr>
            <tr><td></td><td><textarea id="UserComment" cols="40" rows="4">Your feedback...</textarea></td></tr>
            </table>
            <br />
            <button id="BtnSubmitData" class="submitOnline" onclick="testHandle2.SubmitTestResults();">Submit</button>
            <button id="BtnDownloadData" class="submitDownload" onclick="testHandle.DownloadTestResults();">Download</button>
            <p class="submitEmail error">
                <!-- edit here if you want to change the information about email submission, e.g. add privacy policy information -->
                Results should be send to <span class="supervisorEmail"></span>
            </p>
        </div>
    </div>

    <!-- playback control -->
    <div id="PlayerControls" class="commonBox">

        <div id="duration">
            <span>00:00</span>
        </div>
        
        <div id="TimeLine">
            <div id="ProgressBar"></div>
            <div id="ABRange"></div>
        </div>
        
        <div>
            <input id="ChkLoopAudio" type="checkbox" value="Loop" /><label for="ChkLoopAudio">Loop</label>
            <input id="ChkAutoReturn" type="checkbox" value="Auto Return" /><label for="ChkAutoReturn">Auto Return</label>
        </div>
        
        <div id="Volume">
            Volume
            <div id="VolumeSlider"></div>
        </div>
        
        <br style="clear:both"/>
    
    </div>
    
    <div id="TableContainer" class="commonBox">
        <!-- container for the test items and sliders 
             DO NOT EDIT! This box is automatically filled with content!
        -->    

        <!-- heading for the single test -->
        <div id="TestHeading">
        </div>
    
    </div>

    <!-- controls to go to next/previous test -->
    <div id="TestControls" class="commonBox">
        <button id="BtnNextTest">Next Test</>
        <button id="BtnPrevTest">Previous Test</>
    </div>

    

    <!-- Footer -->
    <div id="Footer">
        This listening test has been created with <a href="https://github.com/HSU-ANT/beaqlejs" target="_blank">BeaqleJS</a> <a href="https://github.com/HSU-ANT/beaqlejs/tree/v0.3" target="_blank">v0.3</a>.
    </div>
</div>

</body>

</html>
