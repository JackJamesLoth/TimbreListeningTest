<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8" />

    <!--
    BeaqleJS - HTML5 and JavaScript framework for listening tests, <https://github.com/HSU-ANT/beaqlejs>

    This file and all corresponding parts of BeaqleJS are published under the GPLv3 license, <http://www.gnu.org/licenses/>    
    -->


    <title>BeaqleJS</title>
    
    <!-- load the test config file -->
    <script src="config/config_guitartimbre.js" type="text/javascript"></script>
    <script src="config/config_guitartimbre_noncompare.js" type="text/javascript"></script>
    <script src="config/config_training.js" type="text/javascript"></script>
    <!---->
    
    <link type="text/css" href="css/smoothness/jquery-ui-1.8.18.custom.css" rel="Stylesheet" />
    <link type="text/css" href="css/styles.css" rel="Stylesheet" />

    <script src="js/jquery.js" type="text/javascript"></script>
    <script src="js/jquery-ui.custom.min.js" type="text/javascript" ></script>
    <script src="js/beaqle.js" type="text/javascript"></script>
    <script src="js/testOrder.js" type="text/javascript"></script>


    <script type="text/javascript">
    /* <![CDATA[ */
        var testHandle;
        var testHandle2;
        var testHandleTraining;
        window.onload=function() {

        var loadedTestState = loadTestState();
        if (loadedTestState != null) {
            var tempTestState = structuredClone(loadedTestState)
            if (tempTestState.TestStage == 0) {
                testHandleTraining = new TimbreTraining(TestConfigTraining);
                testHandleTraining.setStage(0)
                testHandleTraining.TestState = tempTestState;
                $('#Footer').prepend(testHandleTraining.browserFeatureString() + '<br/>');
            } else if (tempTestState.TestStage == 1) {
                testHandle = new TimbrePreferenceTest(TestConfigStage1);
                testHandle.setStage(1)
                testHandle.TestState = tempTestState;
                testHandle.startTests();
                $('#Footer').prepend(testHandle.browserFeatureString() + '<br/>');
            } else {
                testHandle2 = new TimbreTest(TestConfigStage2);
                testHandle2.setStage(2)
                testHandle2.TestState = tempTestState;
                testHandle2.startTests();
                $('#Footer').prepend(testHandle2.browserFeatureString() + '<br/>');
            }
        } else {
            //testHandle = new TimbrePreferenceTest(TestConfigStage1);
            //testHandle.setStage(1)
            //$('#Footer').prepend(testHandle.browserFeatureString() + '<br/>');

            testHandleTraining = new TimbreTraining(TestConfigTraining);
            testHandleTraining.setStage(0)
            $('#Footer').prepend(testHandleTraining.browserFeatureString() + '<br/>');
            
        }

            
        };
    /* ]]> */
    </script>
   
</head>

<body>

<div id="Wrapper">

    <div id="TestTitle" class="commonBox">
        <!-- overall title at the top 
             DO NOT EDIT! This box is automatically filled with content!
        -->
        Loading...
    </div>
    
    <!-- is displayed during load -->
    <div id="LoadOverlay" class="commonBox">
        <img src="img/ajax-loader.gif"/> &nbsp;&nbsp;&nbsp; Loading...
    </div>

    <!-- introduction before the test starts -->
    <div id="TestIntroduction" class="commonBox">
        
        <!-- edit here if you want to change the welcome message  and instructions -->

        <div id="TrainingInstructions" style="text-align:left">
            “Thanks for your interest in participating in this timbre listening test. The overall test will take roughly 1.5 hours. The test comprises two main stages, a guitar timbre assessment stage for individual guitars (stage 1), and a guitar timbre comparison stage for paired guitars (stage 2). First, you will conduct a training stage to get you used to the test interface and tasks.
            <br />
            <br />
            Overall instructions:
            <ul>
                <li>You should listen through all of the recordings before responding to the questions in the training and test pages.</li>
                <li>Fill out the questions in the forms to the best of your ability.</li>
                <li>Please ensure you have answered all the questions before moving on to the next page.</li>
                <li>You can take a break at any point during the test, however avoid taking a break in the middle of completing a page. We recommend taking short breaks after stage 1 and in the middle of stage 2.</li>
                <li>If you wish to navigate the pages and revise your ratings, you can use the Previous and Next buttons at the bottom of pages. However, do not use the browser’s backward and forward buttons.</li>
            </ul>
            Training instructions:
            <ul>
                <li>During the training stage, adjust the volume to a comfortable level. The sound should be not too loud and not too quiet either. To adjust the volume, use the volume knob on the headphone amp. You should not have to change the default volume setting too much. Once the training stage is over, you will be asked not to change the volume during the main test, except if strictly necessary.</li>
            </ul>
        </div>
        <div id="Stage1Instructions" style="text-align:left">
            In this stage, you will assess the timbre of different acoustic guitars by listening to recordings of each guitar presented separately. There are 10 individual guitars in total.
            <br />
            <br />
            Instructions:
            <ul>
                <li>You will need to listen to recordings of the same acoustic guitar played in different styles (picking, fingerstyle, strumming) and describe the timbre of the guitar and what you like/dislike.</li>
                <li>Listen through all of the recordings before responding to the questions.</li>
                <li>Fill out the questions in the form to the best of your ability.</li>
                <li>Please ensure you have answered all the questions before moving on to the next page.</li>
                <li>You can take a break at any point during the test, however avoid taking a break in the middle of completing a page. We recommend taking a short break after stage 1.</li>
                <li>DO NOT adjust the volume in this stage unless you absolutely need to.</li>
            </ul>
        </div>
        <div id="Stage2Instructions" style="text-align:left">
            In this stage, you will compare the timbre of two different guitars by listening to recordings of the guitars presented by pairs. There are 45 guitar pairs in total.
            <br />
            <br />
            Instructions:
            <ul>
                <li>You will compare recordings of two different guitars (Guitars A and B) made in the same conditions and rate the degree of timbre differences and your timbre preference.</li>
                <li>Listen through all of the recordings before responding to the questions.</li>
                <li>Fill out the questions in the form to the best of your ability.</li>
                <li>Please ensure you have answered all the questions before moving on to the next page.</li>
                <li>You can take a break at any point during the test, however avoid taking a break in the middle of completing a page. We recommend taking a short break in the middle of stage 2 (e.g. after pair 22/45).</li>
                <li>The controls at the top enable to control playback. However, you can leave them on the default position</li>
                <li>DO NOT adjust the volume at this stage unless you absolutely need to.</li>
            </ul>
        </div>
        <br />
        <br />
                        
        <!-- this button starts the first test -->
        <button id="BtnStartTest" onclick="testHandleTraining.startTests();">Start!</button>	
    </div>

    <!-- final text after all tests have passed -->
    <div id="TestEnd" class="commonBox">

        <!-- edit here if you want to change the thank you message -->
        Thank you very much!
        <br />
        <br />
        
        <!-- show some informations before submitting the results -->
        <div id="SubmitBox">
            <div id="SubmitError" class="error">
                We are sorry, but the following error occured during your submission:
                <p id="ErrorCode"></p>
            </div>
            <p class="submitOnline">
                <!-- edit here if you want to change the information about online submission, e.g. add privacy policy information -->
                Please enter your ID number given to you by the researcher. This will ensure that your data is accounted for while remaining pseudonymised. If you would like to leave feedback on the study, please use the box below.
            </p>
            <p class="submitDownload">
                <!-- edit here if you want to change the information about online submission, e.g. add privacy policy information -->
                Please enter your ID number given to you by the researcher. This will ensure that your data is accounted for while remaining pseudonymised. If you would like to leave feedback on the study, please use the box below.
            </p>
            <table border=0 style="margin-left: auto;margin-right: auto;">
            <tr><td>ID number:</td><td><input id="UserID" type="text" size="40" maxlength="40" /></td></tr>
            <tr><td></td><td><textarea id="UserComment" cols="40" rows="4">Your feedback...</textarea></td></tr>
            </table>
            <br />
            <button id="BtnSubmitData" class="submitOnline" onclick="testHandle2.SubmitTestResults();">Submit</button>
            <button id="BtnDownloadData" class="submitDownload" onclick="testHandle.DownloadTestResults();">Download</button>
            <p class="submitEmail error">
                <!-- edit here if you want to change the information about email submission, e.g. add privacy policy information -->
                Results should be send to <span class="supervisorEmail"></span>
            </p>
        </div>
    </div>

    
    
    <div id="TableContainer" class="commonBox">
        <!-- container for the test items and sliders 
             DO NOT EDIT! This box is automatically filled with content!
        -->    

        <!-- heading for the single test -->
        <div id="TestHeading">
        </div>
    
    </div>

    <!-- controls to go to next/previous test -->
    <div id="TestControls" class="commonBox">
        <button id="BtnNextTest">Next Test</>
        <button id="BtnPrevTest">Previous Test</>
    </div>

    

    <!-- Footer -->
    <div id="Footer">
        This listening test has been created with <a href="https://github.com/HSU-ANT/beaqlejs" target="_blank">BeaqleJS</a> <a href="https://github.com/HSU-ANT/beaqlejs/tree/v0.3" target="_blank">v0.3</a>.
    </div>
</div>

</body>

</html>
